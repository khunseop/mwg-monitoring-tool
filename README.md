# PPAT (프록시 성능 분석 도구) 사용자 매뉴얼

PPAT는 여러 프록시 서버의 상태와 성능을 한눈에 파악하고, 장애 원인을 신속하게 분석할 수 있도록 돕는 웹 기반 관리 도구입니다. 복잡한 명령어 없이 웹 UI를 통해 직관적으로 프록시를 운영하고 분석할 수 있습니다.

## 주요 기능 소개

PPAT는 다음과 같은 네 가지 핵심 기능을 제공합니다.

-   **⚙️ 설정 (프록시/그룹 관리)**: 모니터링할 프록시 서버와 그룹을 등록하고 관리합니다.
-   **📊 자원 사용률**: 등록된 프록시들의 CPU, 메모리 등 시스템 자원 사용률을 실시간 그래프로 확인합니다.
-   **👤 세션 브라우저**: 프록시 서버의 현재 활성 세션(접속자) 정보를 실시간으로 조회합니다.
-   **📈 트래픽 로그 분석**: 대용량 프록시 로그 파일을 업로드하여 과부하 원인, 주요 접속자, 인기 사이트 등을 빠르게 분석합니다.

---

## 사용 방법

### 1. ⚙️ 프록시 설정 및 관리

가장 먼저 해야 할 일은 분석할 프록시 서버 정보를 등록하는 것입니다.

1.  **그룹 추가**: 프록시를 관리하기 쉽도록 그룹을 먼저 만듭니다. (예: `서비스 A 프록시`, `개발용 프록시`)
2.  **프록시 추가**: 생성한 그룹에 프록시 서버 정보를 추가합니다.
    -   **호스트**: IP 주소 또는 도메인 이름
    -   **사용자 이름/비밀번호**: SSH 접속 계정 정보
    -   **SNMP 커뮤니티**: 자원 사용률 수집을 위한 SNMP Community String
3.  **OID 설정**: `설정 > OID` 메뉴에서 CPU, 메모리 등 수집할 자원 지표의 SNMP OID를 설정합니다. 대부분의 경우 기본값을 사용할 수 있습니다.

> 📝 **팁**: 프록시 비밀번호는 안전하게 암호화되어 저장되므로 안심하고 사용할 수 있습니다.

### 2. 📊 자원 사용률 확인하기

프록시 등록을 마쳤다면, `자원 사용률` 페이지에서 성능을 실시간으로 모니터링할 수 있습니다.

-   **실시간 그래프**: 프록시별 CPU, 메모리 사용률 등의 변화를 시간대별 그래프로 보여줍니다. 특정 프록시가 과부하 상태인지 직관적으로 파악할 수 있습니다.
-   **히트맵 테이블**: 현재 자원 사용률을 색상으로 표시하여 어떤 프록시의 어떤 자원이 높은 상태인지 한눈에 알 수 있습니다. (예: 빨간색은 위험, 녹색은 안정)

### 3. 👤 세션 브라우저로 현재 접속자 보기

`세션 브라우저` 페이지에서는 "지금 이 순간 누가 프록시를 사용하고 있는지" 확인할 수 있습니다.

1.  **그룹 선택**: 조회하고 싶은 프록시가 속한 그룹을 선택합니다.
2.  **프록시 선택**: 특정 프록시를 선택하거나, 그룹 내 여러 프록시를 선택하여 동시에 조회할 수 있습니다.
3.  **수집 시작**: 버튼을 누르면 각 프록시 서버에 접속하여 현재 활성 세션 정보를 가져와 표로 보여줍니다.
    -   이를 통해 비정상적으로 많은 세션을 차지하는 사용자를 찾거나 접속 현황을 파악할 수 있습니다.
4.  **컬럼별 필터 사용**: 테이블 헤더의 각 컬럼 아래에 있는 입력 필드에 검색어를 입력하고 Enter 키를 누르면 해당 컬럼만 필터링됩니다.
    -   예: 사용자명, 클라이언트 IP, URL 등 원하는 컬럼만 빠르게 필터링하여 특정 조건의 세션을 찾을 수 있습니다.

> 📁 **참고**: 조회된 세션 정보는 서버에 임시 파일로 저장되며, 프록시별로 가장 최근의 결과만 유지됩니다.

### 4. 📈 트래픽 로그 분석하기

프록시 서버의 로그 파일은 서버 과부하나 장애의 원인을 찾는 데 매우 중요합니다. `트래픽 로그` 페이지는 대용량 로그 파일을 쉽고 빠르게 분석할 수 있도록 도와줍니다.

-   **파일 업로드 분석 (권장)**:
    1.  프록시 서버에서 로그 파일을 로컬 PC로 다운로드합니다.
    2.  `트래픽 로그` 페이지에서 `로그 파일 업로드하여 분석하기` 탭을 선택하고 로그 파일을 업로드합니다.
    3.  업로드가 완료되면 자동으로 분석이 시작되며, 잠시 후 결과가 화면에 나타납니다.

-   **분석 결과**:
    -   **요약**: 전체 로그 라인 수, 총 트래픽 양, 시간 범위 등 기본 정보
    -   **상위 TOP N 분석**:
        -   가장 많이 접속한 클라이언트 IP
        -   가장 많이 요청된 호스트(웹사이트) 및 전체 URL
        -   가장 많은 트래픽(다운로드/업로드)을 유발한 클라이언트 및 호스트
    -   **시각화 차트**: 분석 결과를 막대그래프 등 시각적인 차트로 보여주어 경향을 쉽게 파악할 수 있습니다.

-   **컬럼별 필터 기능**:
    -   로그 조회 결과 테이블에서 각 컬럼 헤더 아래의 입력 필드에 검색어를 입력하고 Enter 키를 누르면 해당 컬럼만 필터링됩니다.
    -   예: 특정 클라이언트 IP, 호스트명, 상태 코드, URL 등으로 필터링하여 원하는 로그만 빠르게 찾을 수 있습니다.
    -   필터 상태는 브라우저에 자동 저장되므로 페이지를 새로고침해도 유지됩니다.

> 💡 **활용 사례**: "갑자기 서버가 느려졌는데, 어떤 사용자가 트래픽을 많이 쓰고 있는지 확인하고 싶을 때" 이 기능을 사용하면 원인을 빠르게 찾을 수 있습니다.

---

## 개발자 정보

소스 코드 기반 설치, 환경 설정, API 명세 등 기술적인 정보는 [개발자 가이드](./docs/DEVELOPER_GUIDE.md)를 참고하세요.